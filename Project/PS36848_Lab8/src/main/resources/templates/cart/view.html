<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="~{/layout/index :: dynamic(~{::main})}">
<body>
<main>
    <div class="card" th:fragment="shopping_cart">
        <div class="card-header bg-primary text-white">SHOPPING CART</div>
        <table class="table mb-0">
            <thead>
            <tr>
                <th>No.</th>
                <th>Name</th>
                <th>Price</th>
                <th style="width: 80px">Quantity</th>
                <th style="width: 120px">Amount</th>
                <th></th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="item in cart.items">
                <td class="align-middle">{{$index + 1}}</td>
                <td title="{{item.name}}" class="text-nowrap overflow-hidden align-middle" style="text-overflow: ellipsis">{{item.name}}</td>
                <td class="align-middle">{{item.price | customNumber}}</td>
                <td class="align-middle"><input class="form-control" ng-change="cart.saveToLocalStorage()" ng-model="item.qty" type="number" min="1"></td>
                <td class="align-middle">{{item.qty * item.price | customNumber}}</td>
                <td class="align-middle">
                    <button ng-click="cart.remove(item.id)" class="btn btn-sm btn-danger">
                        <i class="bi bi-trash"></i>
                    </button>
                </td>
            </tr>
            </tbody>
        </table>
        <div class="card-footer">
            <button ng-click="cart.clear()" class="btn btn-danger"><i class="bi bi-trash"></i> Clear</button>
            <a th:href="@{/order/checkout}" class="btn btn-primary"><i class="bi bi-arrow-right"></i> Checkout</i></a>
        </div>
    </div>
</main>
</body>
</html>